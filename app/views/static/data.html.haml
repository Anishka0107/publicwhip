- content_for :title, "Raw Data"

%h1 Raw Data
%p
  Here you can find raw data compiled by the Public Whip project.
  For example, if you want to load a voting record into a
  spreadsheet.
%p
  For legal and copyright information, see
  #{link_to "our FAQ", help_path(anchor: "legal")}. However, we ask that if you do
  anything fun or important with this data, you let us know! Any
  problems using the data, or requests for a different format? Email
  #{link_to "team@publicwhip.org.uk", "mailto:team@publicwhip.org.uk"}.
%p
  You can
  #{link_to "browse all the data", "../data/"}. The data all
  goes back to parliaments from 1997. It is generated by Public Whip
  from the division listings in the
  #{link_to "debates files made by the Parliament Parser project", "http://ukparse.kforge.net/parlparse/"}.
  You can find lots of other parliament data there.

%h2 MP votes for each division
%p
  The .dat files are tab-separated text files for loading into a
  spreadsheet. They contain a matrix of every vote of each MP/Lord in
  each division. The columns are headed by the identifiers of the
  MPs/Lords, and the rows begin with the date, number and title of
  the division. Each .txt file explains what number represents aye,
  no, abstain and so on, and gives a key to the MP/Lord
  identifiers.
%p
  <a href="../data/votematrix-1997.dat">votematrix-1997.dat</a>
  <a href="../data/votematrix-1997.txt">votematrix-1997.txt</a><br/>
  <a href="../data/votematrix-2001.dat">votematrix-2001.dat</a>
  <a href="../data/votematrix-2001.txt">votematrix-2001.txt</a><br/>
  <a href="../data/votematrix-2005.dat">votematrix-2005.dat</a>
  <a href="../data/votematrix-2005.txt">votematrix-2005.txt</a><br/>
  <a href="../data/votematrix-2010.dat">votematrix-2010.dat</a>
  <a href="../data/votematrix-2010.txt">votematrix-2010.txt</a><br/>
  <a href="../data/votematrix-lords.dat">votematrix-lords.dat</a>
  <a href="../data/votematrix-lords.txt">votematrix-lords.txt</a>
%p
  You may have problems using these files because they have more
  than 256 columns, and some spreadsheets don't go beyond column IV.
  See if your spreadsheet can import "from column x" so you can load
  the files in chunks. OpenOffice (or StarOffice) has a "Column type"
  drop down on the import dialog. You can select multiple columns and
  choose "Hide", then more of the other columns will be loaded. Try
  to find a copy of Quattro Pro, it works fine with more columns. If
  you are really stuck, email me and I'll export the data in multiple
  files.

%h2 MP attendance and rebelliousness rates
%p
  You can open XML files in any text editor, XML viewer or some
  spreadsheets. In the files there are comments with more
  information.
%p
  = link_to "mp-info.xml", "../mp-info.xml"
  \- list of division
  attendance rate and rebelliousness for MPs in the all-members.xml
  file. This is a live file, correct to the latest division in the
  Public Whip database. The field data_date shows the date it applies
  up to. For members who have left the house it says "complete".
%p
  = link_to "mp-info.xml?house=lords", "../mp-info.xml?house=lords"
  \- likewise for the House of Lords.

%h2 Database dumps
%p
  = link_to "pw_static_tables.sql.bz2", "../data/pw_static_tables.sql.bz2"
  \- Text dump of MySQL tables containing raw voting and MP data.<br/>
  = link_to "pw_dynamic_tables.sql.bz2", "../data/pw_dynamic_tables.sql.bz2"
  \- Text dump of MySQL tables containing policy (Dream MP) votes and
  edited motion text.<br/>
  = link_to "pw_cache_tables.sql.bz2", "../data/pw_cache_tables.sql.bz2"
  \- Text dump of MySQL tables containing cached calculations.
